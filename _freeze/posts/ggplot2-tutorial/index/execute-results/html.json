{
  "hash": "458ace810a2ba47fffbcb7564cb2dac2",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Tutorial: Simple Plots in R With {ggplot2}\"\nauthor: \"Derek Rodgers\"\ndate: \"2025-01-18\"\ncategories: [analysis]\n---\n\n\n\n## Introduction\n\nIn this tutorial, we'll explore how to create basic plots in R using the powerful `ggplot2` package. We'll start by  generating a dataset, then we'll create and explain some boxplots, violin plots, a simple scatterplot, and then we'll enhance the scatterplot with a regression line and confidence intervals.\n\n## Generating a Correlated Dataset\n\nWe first need to create a dataset with two variables, `X` and `Y`, that exhibit some correlation. We'll use the `tibble` package to create this dataset.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tibble)\nlibrary(ggplot2)\n\n# Set a random seed for reproducibility\nset.seed(123)\n\n# Generate correlated data\ndata <- tibble(\n  X = rnorm(100, mean = 50, sd = 10),\n  Y = 2 * X + rnorm(100, mean = 0, sd = 20)\n)\n\n# Display the first few rows\nhead(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 2\n      X     Y\n  <dbl> <dbl>\n1  44.4  74.6\n2  47.7 101. \n3  65.6 126. \n4  50.7  94.5\n5  51.3  83.6\n6  67.2 133. \n```\n\n\n:::\n:::\n\n\n\n## Visualizing Distributions: Boxplots and Violin Plots\n\n### What Are Boxplots?\n\nBoxplots are useful for visualizing the distribution of a numeric variable. They display the median, quartiles, and potential outliers, providing a concise summary of the data.\n\n### Visualizing X with a Boxplot\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Boxplot of X\nggplot(data, aes(x = \"\", y = X)) +\n  geom_boxplot(fill = \"lightblue\", color = \"blue\") +\n  labs(\n    title = \"Boxplot of X\",\n    x = \"\",\n    y = \"X Variable\"\n  )\n```\n\n::: {.cell-output-display}\n![Boxplot showing the distribution of X.](index_files/figure-html/boxplot-x-1.png){width=672}\n:::\n:::\n\n\n\nCode explanation:\n\n- **`ggplot(data, aes(x = \"\", y = X))`**: Initializes the plot using the dataset `data`. \n  - The empty string `\"\"` on the x-axis groups all values into a single boxplot.\n  - `y = X` maps the `X` variable to the y-axis.\n- **`geom_boxplot(fill = \"lightblue\", color = \"blue\")`**: Adds the boxplot layer.\n  - `fill = \"lightblue\"`: Sets the interior color of the boxplot to light blue.\n  - `color = \"blue\"`: Sets the outline color of the boxplot to blue.\n- **`labs()`**: Customizes the plot labels:\n  - `title`: Sets the title of the plot, describing the visualization as a boxplot of `X`.\n  - `x`: Removes the x-axis label since the x-axis is not meaningful in this case.\n  - `y`: Labels the y-axis as \"X Variable\".\n\n### Visualizing Y with a Boxplot\n\nLet’s use a boxplot to visualize the distribution of Y.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Boxplot of Y\nggplot(data, aes(x = \"\", y = Y)) +\n  geom_boxplot(fill = \"lightgreen\", color = \"darkgreen\") +\n  labs(\n    title = \"Boxplot of Y\",\n    x = \"\",\n    y = \"Y Variable\"\n  )\n```\n\n::: {.cell-output-display}\n![Boxplot showing the distribution of Y.](index_files/figure-html/boxplot-y-1.png){width=672}\n:::\n:::\n\n\n\n### What Are Violin Plots?\n\nViolin plots are similar to boxplots but provide additional information about the data distribution. They combine a boxplot with a kernel density plot, showing the density of the data at different values.\n\n### Visualizing X with a Violin Plot\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Violin plot of X\nggplot(data, aes(x = \"\", y = X)) +\n  geom_violin(fill = \"lightblue\", color = \"blue\") +\n  labs(\n    title = \"Violin Plot of X\",\n    x = \"\",\n    y = \"X Variable\"\n  )\n```\n\n::: {.cell-output-display}\n![Violin plot showing the distribution of X.](index_files/figure-html/violinplot-x-1.png){width=672}\n:::\n:::\n\n\n\nCode explanation:\n\n- **`ggplot(data, aes(x = \"\", y = X))`**: Starts the plot using the dataset `data`. \n  - The empty string `\"\"` on the x-axis creates a single group for all `X` values.\n  - `y = X` maps the `X` variable to the y-axis.\n- **`geom_violin(fill = \"lightblue\", color = \"blue\")`**: Adds a violin plot layer.\n  - `fill = \"lightblue\"`: Fills the violin plot with light blue to highlight the distribution.\n  - `color = \"blue\"`: Sets the outline color of the violin plot to blue.\n- **`labs()`**: Provides descriptive labels:\n  - `title`: Specifies the plot title, indicating this is a violin plot of `X`.\n  - `x`: Removes the x-axis label since it has no meaning here.\n  - `y`: Labels the y-axis as \"X Variable\".\n\n### Visualizing Y with a Violin Plot\n\nLet’s use a violin plot to visualize the distribution of Y.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Violin plot of Y\nggplot(data, aes(x = \"\", y = Y)) +\n  geom_violin(fill = \"lightgreen\", color = \"darkgreen\") +\n  labs(\n    title = \"Violin Plot of Y\",\n    x = \"\",\n    y = \"Y Variable\"\n  )\n```\n\n::: {.cell-output-display}\n![Violin plot showing the distribution of Y.](index_files/figure-html/violinplot-y-1.png){width=672}\n:::\n:::\n\n\n\n\n## Creating a Basic Scatterplot with `geom_point()`\n\nScatterplots are a fundamental tool for visualizing the relationship between two continuous variables. Each point represents an observation, with its position determined by the values of the two variables.\n\nNow, let's visualize the relationship between `X` and `Y` using a scatterplot. We'll use `geom_point()` for this purpose.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\n# Basic scatterplot\nggplot(data, aes(x = X, y = Y)) +\n  geom_point() +\n  labs(\n    title = \"Scatterplot of X vs. Y\",\n    x = \"X Variable\",\n    y = \"Y Variable\"\n  )\n```\n\n::: {.cell-output-display}\n![Scatterplot showing the relationship between X and Y.](index_files/figure-html/scatterplot-1.png){width=672}\n:::\n:::\n\n\n\nCode explanation:\n\n- **`ggplot(data, aes(x = X, y = Y))`**: Creates the base plot, specifying the dataset `data` and mapping `X` to the x-axis and `Y` to the y-axis.\n- **`geom_point()`**: Adds a scatterplot layer where each point represents a data observation.\n- **`labs()`**: Enhances the plot with labels:\n  - `title`: Sets the main title to \"Scatterplot of X vs. Y\".\n  - `x`: Labels the x-axis as \"X Variable\".\n  - `y`: Labels the y-axis as \"Y Variable\".\n\n## Adding a Linear Regression Line with `geom_smooth()`\n\nLinear regression is a statistical method for modeling the relationship between two variables. It fits a straight line through the data that minimizes the overall prediction error. This method can be used to determine whether there is a statistically significant association between variables, and it can also be used to predict values of one variable (the response variable, in our case, `Y`) for unseen values of another (the explanatory variable, in our case, `X`).\n\nTo better understand the relationship between `X` and `Y`, we'll add a regression line using `geom_smooth()` with the `lm` method.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Scatterplot with linear regression line\nggplot(data, aes(x = X, y = Y)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = FALSE, color = \"blue\", alpha = 0.3, linetype = \"solid\") +\n  labs(\n    title = \"Scatterplot with Regression Line and Confidence Interval\",\n    x = \"X Variable\",\n    y = \"Y Variable\"\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![Scatterplot with a linear regression line.](index_files/figure-html/scatterplot-lm-1.png){width=672}\n:::\n:::\n\n\n\nCode explanation:\n\n- **`ggplot(data, aes(x = X, y = Y))`**: Initializes the plot with the dataset `data`. \n  - Maps `X` to the x-axis and `Y` to the y-axis.\n- **`geom_point()`**: Adds points to create the scatterplot, showing the relationship between `X` and `Y`.\n- **`geom_smooth(method = \"lm\", se = FALSE, color = \"blue\", linetype = \"solid\")`**: Adds a regression line to the scatterplot.\n  - `method = \"lm\"`: Specifies the use of linear regression to fit the line.\n  - `se = FALSE`: Disables the display of the error (confidence interval) band around the regression line.\n  - `color = \"blue\"`: Colors the regression line blue.\n  - `linetype = \"solid\"`: Draws the regression line as a solid line.\n- **`labs()`**: Adds labels:\n  - `title`: Indicates the plot includes a regression line without confidence intervals.\n  - `x`: Labels the x-axis as \"X Variable\".\n  - `y`: Labels the y-axis as \"Y Variable\".\n\n## Including a Confidence Interval\n\nFinally, we enhance the plot by including a 95% confidence interval around the regression line. This provides more context about the variability in the predictions.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Scatterplot with regression line and confidence interval\nggplot(data, aes(x = X, y = Y)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = TRUE, fill = \"red\", color = \"blue\") +\n  labs(\n    title = \"Scatterplot with Regression Line and Confidence Interval\",\n    x = \"X Variable\",\n    y = \"Y Variable\"\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![Scatterplot with a linear regression line and confidence interval.](index_files/figure-html/scatterplot-ci-1.png){width=672}\n:::\n:::\n\n\n\nCode explanation:\n\n- **`ggplot(data, aes(x = X, y = Y))`**: Initializes the plot, mapping `X` to the x-axis and `Y` to the y-axis.\n- **`geom_point()`**: Adds points for the scatterplot, showing individual observations.\n- **`geom_smooth(method = \"lm\", se = TRUE, level = 0.95, fill = \"lightblue\", color = \"blue\", alpha = 0.3, linetype = \"solid\")`**: Adds a regression line and an error (confidence interval) band.\n  - `method = \"lm\"`: Uses linear regression to compute the regression line.\n  - `se = TRUE`: Displays the confidence interval band around the regression line.\n  - `level = 0.95`: Sets the confidence level for the error band to 95%.\n  - `fill = \"red\"`: Colors the confidence interval band red.\n  - `color = \"blue\"`: Colors the regression line blue.\n  - `alpha = 0.3`: Makes the confidence interval band slightly transparent.\n  - `linetype = \"solid\"`: Specifies a solid line style for the regression line.\n- **`labs()`**: Customizes the plot labels:\n  - `title`: Indicates the plot includes a regression line with confidence intervals.\n  - `x`: Labels the x-axis as \"X Variable\".\n  - `y`: Labels the y-axis as \"Y Variable\".\n\n## Conclusion\n\nIn this tutorial, we demonstrated some basic plots you can create with `ggplot2`, a powerful visualization package for R. We saw how we can use R to generate an artificial dataset, then visualize this dataset using boxplots, violin plots, and a scatterplot. Finally, we leanred how enhance our scatterplot with a regression line and confidence intervals. Although these plots are quite basic, the code patterns that underlie them are foundational to creating plots using `ggplot2` and are a great foundation for much more complex data visualization in R.",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}